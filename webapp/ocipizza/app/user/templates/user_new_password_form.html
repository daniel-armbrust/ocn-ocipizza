{% extends "__base.html" %}
{% block title %}Redefinição de Senha{% endblock %}
{% block body_header %}        
    {% include "__top_menu.html" %}
{% endblock %}
{% block body %} 
    {% include "__flash_message.html" %}
    {% include "__form_error_messages.html" %}   
    <div class="container" id="app">  
        <br>
        <div class="row">
            <div class="col-sm-2 col-md-2"><p>&nbsp;</p></div>
            <div class="col-sm-8 col-md-8 d-flex justify-content-center">
                <div class="card w-100 rounded">
                    <div class="card-body rounded" style="border-top: 5px solid gray;">
                        <h5 class="card-title fw-bold fs-4 pb-3">Nova Senha</h5>
                        <form method="post" id="id_form" novalidate
                              action="{{ url_for('user.new_password_form_view') }}" class="needs-validation">
                            {{ form.hidden_tag() }}   
                            <input type="hidden" name="email" id="id_email" value="{{ email }}">  
                            <input type="hidden" name="token" id="id_token" value="{{ token }}">  
                            <div class="mb-3">   
                                <div class="input-group has-validation">
                                    {{ form.password(class_="form-control form-control-lg", placeholder="Senha", id="id_form_password") }}
                                    <div class="invalid-feedback">
                                        É necessário informar uma senha válida.
                                    </div>                                
                                </div>                                                             
                            </div>  
                            <div class="mb-3">   
                                <div class="input-group has-validation">
                                    {{ form.confirm_password(class_="form-control form-control-lg", placeholder="Confirme a Senha", id="id_form_password_confirm") }}
                                    <div class="invalid-feedback">
                                        É necessário confirmar a senha.
                                    </div>                                
                                </div>                                                             
                            </div>
                            <div class="row">
                                <div class="col d-flex justify-content-center pt-3">
                                    <div class="mb-3">                                           
                                        <button class="btn btn-success btn-lg fw-bold" 
                                                type="button" onclick="validateAndsubmitButton()"> 
                                            &nbsp;&nbsp;&nbsp;
                                            Confirmar
                                            &nbsp;&nbsp;&nbsp;
                                        </button>                                                             
                                    </div>               
                                </div>                                
                            </div>                                                                                
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>    
{% endblock %}
{% block body_scripts %}    
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery.blockUI.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>        
{% endblock %}